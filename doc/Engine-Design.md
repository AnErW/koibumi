# Koibumi Engine Design

## 设计思想

Koibumi 的引擎设计是从三个角度出发的。

### 1 - 灵活性 (Flexible)

Koibumi 引擎的设计非常注重灵活性。在设计中尽可能地提供抽象，以此来适应更多地需求。

Koibumi 在最大程度上给与您使用任何脚本语言的自由，只要该脚本语言能和 Koibumi 进行集成，你便可以在 Koibumi 上使用该脚本语言编写您的游戏。

同时，Koibumi 遵循最小化原则，只负责游戏引擎部分最核心的部分，其他部分都是可选的，你可以很轻松地将某一部分替换成自己想要的库。

### 2 - 可复用性 (Reusable)

> 程序员的三个美德：懒惰，不耐烦，骄傲。
>
> -- Larry Wall

Koibumi 无论是在引擎设计上还是实际使用上都尽可能地遵循可复用性原则，这在很大程度上节省了工作量，避免了重复造轮子而多出来的不必要的工作量。

Koibumi 依靠 Rust 社区的支持，其使用到的大多数依赖库也是由社区贡献的。

~~（同时提一嘴，拒绝白嫖，从我做起）~~

### 3 - 稳定性 (Stability)

Koibumi 得益于 Rust 语言的特性，尽可能地保证了程序的稳定性。

与此同时，Rust 也提供了一个可观的性能表现，在某些情况下甚至能和在 C/C++ 下编写的程序性能表现上相媲美。

Rust 提供了一个稳定的标准库，能轻松的移植到各个平台。同时 Koibumi 的依赖库也提供了多平台支持。

Rust 是内存安全的，意味着在大多数情况下程序不会出现让人讨厌的，由于内存原因而产生的崩溃。

~~（感谢 Rust 让我能少修几个 bug）~~ ~~（**bug** 不是 **feature** 嘛（笑））~~

## 内部设计

Koibumi 由三个部分组成

### 0 - Koibumi (主程序/引擎)

这是一个典型的基于 Koibumi 制作的程序的入口点。

开始运行后，Koibumi 会初始化一些基本组件（例如音频模块），之后会加载入初始化脚本。

Koibumi 读取完初始化脚本后会载入其内部定义需要加载的插件，然后会解析相关的配置文件。

完成了上述步骤后，Koibumi 就跑起来啦！（如果是第一次初始化的项目，这时候你应该会看到`Powered By Koibumi`的字样）

请开始你的创作吧！

### 1 - Koibumi-cli (命令行)

帮助开发者更方便地利用 Koibumi 来构建应用的命令行程序。

Koibumi-cli 提供了开发，构建，打包的相关命令，同时也可以通过它来快速初始化一个项目。
